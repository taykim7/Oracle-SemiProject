
--1. 관리자 아이디 생성
INSERT INTO ADMIN(ADMIN_ID, ADMIN_NAME, SSN, PASSWORD)
VALUES('ADMIN', '김민성', '970725-1111111', '1111');

--2. 책 데이터 생성
EXEC PRC_BOOK_INSERT('자바의정석', '집');
EXEC PRC_BOOK_INSERT('오라클책', '집');
EXEC PRC_BOOK_INSERT('JDBC책', '집');
EXEC PRC_BOOK_INSERT('WEB책', '집');

--3. 강의실 데이터 생성
EXEC PRC_CLASS_INSERT('1강의실');
EXEC PRC_CLASS_INSERT('2강의실');
EXEC PRC_CLASS_INSERT('3강의실');
EXEC PRC_CLASS_INSERT('4강의실');
EXEC PRC_CLASS_INSERT('7강의실');

--4. 과목데이터 생성
EXEC PRC_SUBJECT_INSERT('JAVA');
EXEC PRC_SUBJECT_INSERT('ORACLE');
EXEC PRC_SUBJECT_INSERT('JDBC');
EXEC PRC_SUBJECT_INSERT('WEB');

--5. 과정데이터 생성
EXEC PRC_COURSE_INSERT('풀스택 A');
EXEC PRC_COURSE_INSERT('풀스택 B');
EXEC PRC_COURSE_INSERT('프론트 A');
EXEC PRC_COURSE_INSERT('백엔드 A');

--6. 탈락사유 데이터 생성
EXEC PRC_REASONS_DROPOUT_INSERT('개인사정');
EXEC PRC_REASONS_DROPOUT_INSERT('취업');
EXEC PRC_REASONS_DROPOUT_INSERT('건강문제');

--7. 학생 데이터 생성
EXEC PRC_STU_INSERT('김민성', '970725-1111111');
EXEC PRC_STU_INSERT('이연주', '950816-2111111');
EXEC PRC_STU_INSERT('김태형', '950714-1111111');
EXEC PRC_STU_INSERT('최문정', '990702-2111111');

--8. 교수 데이터 생성
EXEC PRC_PROF_INSERT('양윤정', '970131-2111111');
EXEC PRC_PROF_INSERT('홍수민', '000504-2111111');

COMMIT;
--9. 개설과정 데이터 생성
EXEC PRC_OP_COUR_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'CL001', 'P202200007', 'C00001');
EXEC PRC_OP_COUR_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'CL002', 'P202200008', 'C00002');
EXEC PRC_OP_COUR_INSERT(TO_DATE('2021-01-01','YYYY-MM-DD'), TO_DATE('2021-06-20','YYYY-MM-DD'), 'CL003', 'P202200007', 'C00001');
EXEC PRC_OP_COUR_INSERT(TO_DATE('2022-08-01','YYYY-MM-DD'), TO_DATE('2022-12-31','YYYY-MM-DD'), 'CL004', 'P202200008', 'C00003');

--10. 개설과목 데이터 생성
-- (과목시작일, 과목종료일, 개설과정코드, 교재코드, 과목코드, 필기배점, 실기배점, 출결배점)
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-03-01','YYYY-MM-DD'), 'OC22027', 'BK001', 'SB00001', 40,30,30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-03-02','YYYY-MM-DD'), TO_DATE('2022-04-01','YYYY-MM-DD'), 'OC22027', 'BK002', 'SB00002', 40,30,30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-04-02','YYYY-MM-DD'), TO_DATE('2022-05-01','YYYY-MM-DD'), 'OC22027', 'BK003', 'SB00003', 40,30,30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-05-02','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'OC22027', 'BK004', 'SB00004', 40,30,30);
-- OC22001 개설 강좌의 개설과목
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-03-01','YYYY-MM-DD'), 'OC22028', 'BK001', 'SB00001', 40,30,30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-03-02','YYYY-MM-DD'), TO_DATE('2022-04-01','YYYY-MM-DD'), 'OC22028', 'BK002', 'SB00002', 40,30,30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-04-02','YYYY-MM-DD'), TO_DATE('2022-05-01','YYYY-MM-DD'), 'OC22028', 'BK003', 'SB00003', 40,30,30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-05-02','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'OC22028', 'BK004', 'SB00004', 40,30,30);
-- OC22002 개설 강좌의 개설과목


-- 11. 수강신청 데이터 입력 PRC_APP_INSERT(개설과정ID, 학생ID)
-- 이미 시작한 과정 는 따로 넣어주자.. 

INSERT INTO APP(APP_ID, OPEN_COUR_ID, STU_ID, APP_DATE) VALUES('AP90001','OC22027','S202200009', TO_DATE('2022-01-01','YYYY-MM-DD'));
INSERT INTO APP(APP_ID, OPEN_COUR_ID, STU_ID, APP_DATE) VALUES('AP90002','OC22028','S202200010', TO_DATE('2022-01-01','YYYY-MM-DD'));
INSERT INTO APP(APP_ID, OPEN_COUR_ID, STU_ID, APP_DATE) VALUES('AP90003','OC22029','S202200011', TO_DATE('2022-01-01','YYYY-MM-DD'));
INSERT INTO APP(APP_ID, OPEN_COUR_ID, STU_ID, APP_DATE) VALUES('AP90004','OC22030','S202200012', TO_DATE('2022-01-01','YYYY-MM-DD'));

SELECT *
FROM dropout;
COMMIT;

-- 12. 성적 데이터 입력 PRC_SCORE_INSERT(개설과정ID, 수강신청ID, 출결, 필기, 실기)
EXEC PRC_SCORE_INSERT('OS2200001', 'AP90001', 100, 90, 60);
EXEC PRC_SCORE_INSERT('OS2200002', 'AP90002', 90, 90, 60);
EXEC PRC_SCORE_INSERT('OS2200003', 'AP90003', 100, 90, 70);
EXEC PRC_SCORE_INSERT('OS2200004', 'AP90004', 80, 60, 60);

--13. 중도탈락 데이터 입력 PRC_DROPOUT_INSERT
EXEC PRC_DROPOUT_INSERT('AP90001', 'DR001');

--------------------------------------------


-- 1. 관리자 아이디 생성
INSERT INTO ADMIN(ADMIN_ID, ADMIN_NAME, SSN, PASSWORD)
VALUES('ADMIN','김태형','950714-1111111','1111');

--교재 등록
EXEC PRC_BOOK_INSERT('자바의정석', '집');
EXEC PRC_BOOK_INSERT('오라클책', '집');
EXEC PRC_BOOK_INSERT('JDBC책', '집');
EXEC PRC_BOOK_INSERT('WEB책', '집');

--교재 수정
EXEC PRC_BOOK_UPDATE('BK004','자바의정석','집'); -- 이미 등록된 교재
EXEC PRC_BOOK_UPDATE('BK009','자바의정석','집'); -- 등록되지 않은 교재ID입니다.
EXEC PRC_BOOK_UPDATE('BK004','오라클의정석','집'); -- 성공

--교재 삭제
EXEC PRC_BOOK_DELETE('BK005'); -- 등록되지 않은 교재입니다.
EXEC PRC_BOOK_DELETE('BK004');

SELECT *
FROM CLASS;

SELECT *
FROM OPEN_COUR;

--강의실 등록
EXEC PRC_CLASS_INSERT('1강의실');
EXEC PRC_CLASS_INSERT('2강의실');
EXEC PRC_CLASS_INSERT('3강의실');
EXEC PRC_CLASS_INSERT('4강의실');

--강의실 수정
EXEC PRC_CLASS_UPDATE('CL001','1강의실'); -- 이미 사용 중인 강의실명 입니다.
EXEC PRC_CLASS_UPDATE('CL005','1강의실'); -- 존재하지 않는 강의실ID 입니다
EXEC PRC_CLASS_UPDATE('CL001','1강의실2층'); -- ㅇㅋ

--강의실 삭제
EXEC PRC_CLASS_DELETE('CL002');

--과목 등록
EXEC PRC_SUBJECT_INSERT('JAVA');
EXEC PRC_SUBJECT_INSERT('ORACLE');
EXEC PRC_SUBJECT_INSERT('JDBC');
EXEC PRC_SUBJECT_INSERT('WEB');

--과정 등록
EXEC PRC_COURSE_INSERT('풀스택 A');
EXEC PRC_COURSE_INSERT('풀스택 B');
EXEC PRC_COURSE_INSERT('프론트 A');
EXEC PRC_COURSE_INSERT('백엔드 A');

--탈락사유 데이터
EXEC PRC_REASONS_DROPOUT_INSERT('개인사정');
EXEC PRC_REASONS_DROPOUT_INSERT('취업');
EXEC PRC_REASONS_DROPOUT_INSERT('건강문제');

--학생 등록
EXEC PRC_STU_INSERT('김민성', '970725-1111111');
EXEC PRC_STU_INSERT('이연주', '950816-2111111');
EXEC PRC_STU_INSERT('김태형', '950714-1111111');
EXEC PRC_STU_INSERT('최문정', '990702-2111111');

--교수 등록
EXEC PRC_PROF_INSERT('양윤정', '970131-2111111');
EXEC PRC_PROF_INSERT('홍수민', '000504-2111111');

--개설과정 데이터 생성
EXEC PRC_OP_COUR_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'CL005', 'P202200001', 'C0001');
EXEC PRC_OP_COUR_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'CL006', 'P202200002', 'C0002');
EXEC PRC_OP_COUR_INSERT(TO_DATE('2021-01-01','YYYY-MM-DD'), TO_DATE('2021-06-20','YYYY-MM-DD'), 'CL005', 'P202200001', 'C0001');
EXEC PRC_OP_COUR_INSERT(TO_DATE('2022-08-01','YYYY-MM-DD'), TO_DATE('2022-12-31','YYYY-MM-DD'), 'CL007', 'P202200002', 'C0003');

--개설과목 수정
EXEC PRC_OP_SUBJ_UPDATE ('OS2200008', TO_DATE('2022-05-02','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'OC22028', 'BK004', 'SB00004', 40, 30, 30);
                                                                                                                                                                                                        


SELECT COUNT(*)
    FROM DROPOUT
    WHERE APP_ID = AP90001;

EXEC PRC_APP_DELETE('AP90004');

SELECT *
FROM OPEN_COUR;

-- 성적입력
EXEC PRC_SCORE_INSERT(개설과정ID,수강신청ID,출결,필기,실기);



--개설과목 데이터 생성
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-03-01','YYYY-MM-DD'), 'OC22001', 'BK001', 'SB00001', 40, 30, 30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-03-02','YYYY-MM-DD'), TO_DATE('2022-04-01','YYYY-MM-DD'), 'OC22001', 'BK002', 'SB00002', 40, 30, 30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-04-02','YYYY-MM-DD'), TO_DATE('2022-05-01','YYYY-MM-DD'), 'OC22001', 'BK003', 'SB00003', 40, 30, 30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-05-02','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'OC22001', 'BK004', 'SB00004', 40, 30, 30);

EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-01-01','YYYY-MM-DD'), TO_DATE('2022-03-01','YYYY-MM-DD'), 'OC22002', 'BK001', 'SB00001', 40, 30, 30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-03-02','YYYY-MM-DD'), TO_DATE('2022-04-01','YYYY-MM-DD'), 'OC22002', 'BK002', 'SB00002', 40, 30, 30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-04-02','YYYY-MM-DD'), TO_DATE('2022-05-01','YYYY-MM-DD'), 'OC22002', 'BK003', 'SB00003', 40, 30, 30);
EXEC PRC_OP_SUBJ_INSERT(TO_DATE('2022-05-02','YYYY-MM-DD'), TO_DATE('2022-06-20','YYYY-MM-DD'), 'OC22002', 'BK004', 'SB00004', 40, 30, 30);

--수강 신청 입력
EXEC PRC_APP_INSERT('OC22001', 'S202200001');
EXEC PRC_APP_INSERT('OC22001', 'S202200002');
EXEC PRC_APP_INSERT('OC22002', 'S202200003');
EXEC PRC_APP_INSERT('OC22002', 'S202200004');

SELECT *
FROM APP;

SELECT *
FROM OPEN_COUR;

EXEC PRC_APP_DELETE('AP90001');

-- 이미 시작한 과정은 따로 넣어주자
INSERT INTO APP(APP_ID,OPEN_COUR_ID,STU_ID,APP_DATE) VALUES('AP90001','OC22001','S202200001',TO_DATE('2022-05-02','YYYY-MM-DD'));
INSERT INTO APP(APP_ID,OPEN_COUR_ID,STU_ID,APP_DATE) VALUES('AP90002','OC22001','S202200002',TO_DATE('2022-05-02','YYYY-MM-DD'));
INSERT INTO APP(APP_ID,OPEN_COUR_ID,STU_ID,APP_DATE) VALUES('AP90003','OC22001','S202200003',TO_DATE('2022-05-02','YYYY-MM-DD'));
INSERT INTO APP(APP_ID,OPEN_COUR_ID,STU_ID,APP_DATE) VALUES('AP90004','OC22001','S202200004',TO_DATE('2022-05-02','YYYY-MM-DD'));

COMMIT;

--성적 입력
EXEC PRC_SCORE_INSERT ('OS2200001', 'AP90001',100,90,60);
EXEC PRC_SCORE_INSERT ('OS2200001', 'AP90002',90,90,60);
EXEC PRC_SCORE_INSERT ('OS2200001', 'AP90003',100,90,70);
EXEC PRC_SCORE_INSERT ('OS2200001', 'AP90004',80,60,60);

--중도탈락
EXEC PRC_DROPOUT_INSERT('AP90001', 'DR001');